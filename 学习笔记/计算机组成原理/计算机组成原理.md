# 计算机组成原理

## 课程概貌

讲授内容

基本不见的结构和组织方式

基本运算的操作系统

基本部件和单元的设计思想

### 课程的分割整合

计算机组成原理之机器

1. 计算机系统的基本概念
2. 总线
3. 存储器
4. 输入输出系统

计算机组成原理至数字

1. 计算机中数的表示
2. 计算机的运算方法和运算器

计算机的组成原理之cpu

1. 指令系统
2. cpu的结构和功能
3. 控制单元
4. 控制单元的设计

### 指令的引入是，分析加测评

## 概论

### 计算机系统简介

现代计算机系统的多态性

#### 1，计算机系统

  硬件： 计算机的实体，如主机，外设

  软件：由具有各类型特殊功能的信息组成

> 系统软件 用来管理整个计算机系统
>
> ​                   语言处理程序
>
> ​                   操作系统
>
> ​                   服务型程序
>
> ​                    数据库管理系统
>
> ​                     网络软件

> 应用软件      按任务需要编制成的各种程序

#### 2，计算机系统的层次结构

系统复杂性管理的方法1

抽象-指高级的模型，和低级的实体相对

​         隐藏系统中不必要的细节





高级语言

汇编语言 

操作系统

机器语言 

微指令系统

程序员角度：

虚拟机器m4       用程序翻译成汇编语言

|

虚拟机器m3       翻译成机器语言

|

虚拟机器m2       用机器语言解释成操作系统         软件

|                                                                                    |

实际机器m1       用微指令解释机器指令                  硬件

|

微程序机器m0     有硬件直接执行微指令

计算机体系结构：程序员所见到的计算机系统属性

​                               概念性结构与功能特性

计算机组成：实现计算机体系结构所体现的属性

​                       （具体指令的实现）



### 计算机的基本结构

1，冯诺依曼计算机特点

edvac（缩写）

1. 控制器-运算器-存储器-输出设备-出入设备
2. 指令和数据以同等地位存于存储器，可按地址寻访
3. 指令和数据用二进制表示
4. 指令由操作码和地址码组成
5. 存储器
6. 以运算器为中心

2，计算机硬件框图

1. 以存储器位中心的计算机硬件框图

2. 现在计算机硬件框图

   运算器   alu       cpu

   控制器     cu       cpu       主机            

   存储器      主存                 主机            硬件

   ​                   辅存

   输入设备          i/0设备       i/o              硬件  

   输出设备          i/o设备

* 系统复杂性管理的方法

   -层次化：将被设计的系统划分为多个模块或子模块

   -模块化：有明确定义的功能和接口

   -规则化：模块更加容易被重用



计算机解决的问题：

一个现实的问题，如何利用计算机来解决？

1. 上机前准备
   * 建立数学模型
   * 确定计算方法
   * 编制解题程序



​         指令分为操作码和地址码

​         数据也保存在存储器中

​         1。存储器的基本组成

​                存储体-存储单元-存储元件

​                存储单元：存放一串二进制代码

​                存储字：存储单元中二进制代码的组合

​                存储长度：存储单元中二进制代码的数，每个存储单元赋予了一个地址

​                按地址寻访

​                 存储器的基本组成

​                            mar存储器地址寄存器反映存储单元的个数

​                             mdr存储器数据寄存器反映存储字长

​            2。运算器的结构？x alu acc mq

​           3。控制器的结构如何呢？

​                   功能：解释指令，保证指令的按序执行

​                    完成一条指令: 取指令pc，分析指令ir，执行指令cu

​                指令：取数指令，存数指令

​             5。ax^2+bx+c程序的运行过程

​                  将程序通过输入设备送至计算机

​                  程序首地址-》pc

​                  启动程序运行

​                  取地址pc-mar-m-mdr-ir，（pc）+1-  pc

​                  分析指令  op（ir）-cu

​                  执行指令  ad（ir）-mar-m-mdr-acc

​                   。。。

​                   打印结果

​                   停机

### 计算机硬件的主要技术指标

1. 机器字长
2. 运算速度   （主频，核数，吉布森法 cpi 执行一条指令需要的时钟周期，mips 每秒执行的命令多少，每秒完成了多少浮点运算）
3. 存储容量（主存容量<存储单元个数×存储字长，字节数>，辅存容量）

## 计算机发展史

### 2.1计算机发展史

1. 计算机的产生 第一太计算器neinc

   计算机的驱动力：需求，技术发展，

   1代 电子管，二晶体管，三中小规模集成电路，四，大规模集成电路， 5超大规模集成短路

2. 微型计算机的出现和发展

3. 软件技术的兴起和发展

    1各种语言

   ​     机器语言 面向机器

   ​     汇编语言 面向机器

   ​     高级语言 面向问题

   2 系统软件

   ​    语言处理程序， 汇编程序，编译程序，解释程序

   ​    操作系统，

   ​    服务性程序

   ​    数据库管理系统

   ​    网络软件

   3 软件发展特点

      （1）开发周期长
    
      （2）制作成本高昂
    
      （3）检测软件产品质量的特殊性

   ​           软件是程序以及开发，使用，和维护程序所需要的所有文档

### 2.2计算机的应用

一，科学计算和数据处理

二，工业控制和实时控制

三，网络技术

​        1，电子商务

​        2，网络教育

​        3，敏捷制造

四，虚拟现实

​          1.飞行训练机

五，办公自动化和管理信息系统

六，cad/cam/cims

七，多媒体技术

八，人工智能

### 2.3计算机的展望

一，计算机具有类似人脑的一些超级智能功能

二，芯片集成度的提高限制

​      芯片集成度受物理极限制约

​      按集合结束递增的制作成本

​      芯片的功耗，散热，线延迟

三 ？替代传统的硅芯片

​          1，光计算机

​                 利用光子取代电子进行运算和存储

​          2，DNA生物计算

​                通过控制DNA分子间的生化反应

​          3，量子计算机

​                利用原子所具有的量子特性

## 第三章 系统总线

#### 3.1总线的基本分类

一，为啥要用总线

二，什么是总线

　　　　总线是链接各个部件的信息传输线

　　　　是各个部件共享的传输介质

三，总线上信息的传送

　　　　串行

　　　　并行

四，总线结构的计算机举例

　　　１，单总线结构框图

　　　２，面向ｃｐｕ的双总线结构框图

　　　３，以存储器为中心的双总线结构框图



#### 3.2总线的分类

１，片内总线，　芯片内部的总线

２，系统总线　计算机各个部件之间的信息传输总线

　　数据总线　双向与机器字长，存储器字长有关

　　地址总线　单向　与存储器地址，ｉ/o地址有关

　　控制总线　　有出（存储器的读，写）　　有入（中断）

３，通信总线

　　用于计算机系统之间或计算机系统与其他系统（如控制仪表，移动通信等）之间的通信

　　　　　　　　｜串行通信总线

　　传输方式　　｜并行通信总线

#### 3.3总线特性及性能指标

一，总线物理实现

二，总线特性

　　１，机械特性　尺寸，形状，管脚数　排列顺序

　　２，电气特性　传输方向和有效的电平范围

　　３，功能特性　每根传输线的功能（地址，数据，控制）

　　４，时间特性　信号的时序关系

三，总线的性能指标

　　１总线的宽度

　　２，标准传输率

　　３，时钟同步，异步

　　４，总线服用　地址线与数据线服用（减少管脚数）

　　５，信号线数　地址，数据，控制，总和

　　６，总线控制方式　突发，自动，仲裁，逻辑，计数

　　７，其他指标

四，总线标准

　　模块　标准界面

　　系统　　　

#### 3.4总线结构

一，单总线结构

二，多总线结构

　　１，双总线结构

　　２，三总线结构　ｉ/o总线　主存总线　ｄｍａ总线

　　３，三总线结构又一形式　局部总线，系统总线，扩展总线

　　４，四总线结构　局部总线，系统总线，告诉总线，扩展总线

三，总线结构举例

　　１，传统微型机总线结构

　　２，ＶＬ－ＢＵＳ局部总线结构

　　３，ＰＣＩ总线结构

　　４，多层ＰＣＩ总线结构

#### 3.5总线控制

一，总线的判优控制

　　１，基本概念

　　　　主模块　对总线有控制权

　　　　从模块　响应从主设备发来的总线命令

　　　　　　　　　　　　　　　　　｜链式查询

　　　　　　　　　　　｜集中式　　｜计数器定时查询

　　　　　　　　　　　　　　　　　｜独立请求方式

　　　　总线判优控制　｜分布式

　　２，链式查询

　　　　ＢＳ－总先忙

　　　　ＢＲ－总线请求

　　　　ＢＧ—总线允许

　　３，计数器定时查询

　　　　ＢＳ－同上

　　　　ＢＲ－同上

　　３，独立请求方式

　　　　ＢＧ

　　　　ＢＲ

二，总线通信控制

　　１，目的　解决通信双方　协调配合

　　２，总线传输周期

　　　　申请分配阶段　主模块申请，总线仲裁决定

　　　　寻址　　　　　主模块向从模块给出地址　和命令

　　　　传数阶段　　　主模块和从模块交换数据

　　　　结束阶段　　　主模块撤销有关消息

　　３，总线通信的四种方式

　　　　同步通信　由统一时标控制数据传输

　　　　异步通信　采用应答方式，没有公共时钟标准

　　　　半同步通信　同步，异步结合

　　　　分离式通信　充分挖掘　系统　总线每个瞬间的潜能

　　　　（１）同步式数据输入，固定时间点给出相应操作

　　　　（２）同步式数据输出　固定的时间给出固定的操作

　　　　　　　　用最慢的时间标识，来作为标识

　　　　（３）异步通信　　请求　回答

　　　　　　　　　不互锁，　半互锁　　全互锁

　　　　（４）半同步通信（同步，异步结合）

　　　　　　　同步　发送方用系统　时钟前沿发信号

　　　　　　　　　　接受方用系统时钟后沿判断，识别

　　　　　　　异步　允许不同速度的模块和谐工作

　　　　　　　　　　增加一天“等待”相应信号

　　　　　　以输入数据为例的半同步通信时序

　　　　　　　Ｔ１，主模块发地址

　　　　　　　Ｔ２，主模块发命令

　　　　　　　Ｔｗ　当ｗａｉｔ为低电平时，等待一个ｔ

　　　　　　　。。

　　　　　　　Ｔ３　从模块提供数据

　　　　　　　Ｔ４　从模块撤销数据，主模块撤销命令

　　　　　（４）半同步信号（同步，异步结合）

　　　以上三种通信的共同特点

　　　　　一个总线传输周期（以输入数据位例）

　　　　　主模块发地址，命令　占用总线

　　　　　从地址准备数据　　不占用总线　总线空闲

　　　　　从模块向主模块发数据　占用总线

　　　　　（５）分离式通信　

　　　　　　　　充分挖掘总线每个瞬间的潜力

　　　　　　　　一个中线传输周期

　　　　　　　　｜子周期１　主模块申请　占用总线，使用完成

　　　　　　　　　　　　　　后放即放弃中线的使用权

　　　　　　　　｜子周期２　从模块申请占用总线，将各种信号送

　　　　　　　　　　　　　　至总线上

　　　　　　　　分离式通信特点：

　　　　　　　　　　　　１．各模块有权申请占用总线

　　　　　　　　　　　　２．采用同步方式通信，不等对方回答

　　　　　　　　　　　　３．各模块准备数据时，不占用总线

　　　　　　　　　　　　４．总线被占用时，无空闲

## 第四章　存储器

#### 4.1，概述　　

　　存储器类型？

​       现代存储器的层次结构，为什么要分层？

一，存储器的分类

　　１，按存储器介质分类

　　　　（１）半导体，　　TTL，MOS　　　　　　易失

　　　　（２）磁表面存储器 磁头，载磁体　　　　　非易失

　　　　（３）磁芯存储器　硬磁材料　环状原件　　非易失

　　　　（４）光盘存储器　激光，磁光材料　　　　非易失

　　２，按存取方式分类

　　　（１）存取时间与物理地址无关（随机访问）

　　　　　　　随机存储器　在程序执行过程中可读可写

　　　　　　　只读存储器　在程序的执行过程中　只读

　　　（２）存取时间与物理地址有关（串行访问）

　　　　　　　顺序存储器　　　磁带

　　　　　　　直接存取存储器　磁盘

　　３，按在计算机中的作用分类

　　　　　　　　　　　　　　　　静态ＲＡＭ
　　　　　　　　　　　　　RAM　动态ＲＡＭ

​                            主存储器　　

　　　　　　　　　　　　　　　　MROM
　　　　　　　　　　　　　　　　ＰROM

　　　　　　　　　　　　　ROM   EPROM

​                                                             EEPROM

　　　　存储器 Flash Memory

　　　　　　　高速缓存存储器（ｃａｓｈｅ）

​                            辅助存储器（磁盘，磁带，光盘）

二，存储器的层次结构

　　１，存储器的主要特性的关系

　　　　　速度　容量，价格/位

​              (存储体系)

　　　　寄存器，缓存，主存，磁盘，光盘，磁带

　　　　（软件硬件相结合，程序员不用关心存储在哪）

　　２，存储－主存层次和主存－辅存层次

　　　　缓存－主存（硬件）　主存－辅存（软硬件结合）　

　　　

#### 4.2，主存储器

一，概述

　１，基本组成

　２，主存和ｃｐｕ关系（总线相连）

　３，主存中存储单元地址分配

　　　高位字节地址位字地址

　　　低位字节地址为字地址

　４，主存的技术指标

　　　（１）存储容量　主存　存放二进制代码总位数

　　　（２）存储速度

　　　　　　　存取时间　存储器的访问时间　读取时间　写入时间

　　　　　　　存取周期　连续两次独立的存储器操作（读或写）所需的最小间隔时间

　　　　　　　　　　　　读周期　写周期

　　　（３）存储带宽

二，半导体芯片简介

１，半导体存储结构

　　地址线，片选线，读写控制线，数据线

２，半导体存储芯片的译码驱动方式

　　（１）线选法

　　　　　　地址译码器，　读写控制电路

　　（２）重合法

　　　　　　ｘ地址译码器，ｙ地址译码器，　读写控制

三，随机存取存储器（ｒａｍ）

　　１，静态ｒａｍ

　　　　保存０和１的原理是什么？

　　　　　开关，熔丝？

　　　　　用的是触发器？（４个管子）

　　　　基本单元电路的构成？

　　　　对单元电路如何读出和写入？

　　　　典型芯片的结构是什么样子的？

　　　　静态ｒａｍ芯片的如何进行读出和写入操作？

　　２，动态ＲＡＭ

　　３，动态RＡＭ和静态ＲＡＭ的比较

四，只读存储器（ｒｏｍ）

　　保存系统程序和系统的配置信息

　　　> 最早的只读存储器－－在厂家就写好了内容
　　　>
　　　> 改进１－－用户可以自己写－一次性
　　　>
　　　> 改进２－－可以多次写－－要能对信息进行擦除
　　　>
　　　> 改进３－－电可擦写－－特定设备
　　　>
　　　> 改进４－－电可擦写－－直接链接到计算机

１，掩模ＲＯＭ

​     　行列选择线交叉处有MOS管为“１“

　　行列选择线交叉处无ＭＯＳ管位”０“

２，ＰＲＯＭ（一次性编程）

３，ＥＰＲＯＭ（多次性编程）（紫外线可擦除）

４，EEＰＲＯＭ（多次性编程）

　　电可擦写，局部可擦写，全部可擦写

５，Ｆｌａｓｈ　Ｍｅｍｏｒｙ（闪速型存储器）

　　ＥＰＥＯＭ　　　价格便宜　集成度高

　 　ＥＥＰＲＯＭ　电可擦洗重写	

　　比ＲＲＰＲＯＭ快　具备ＲＭＡ功能

五，存储器与ｃｐｕ的链接

１，存储器容量的扩展

　　（１）位扩展（增加存储字长）（并联）（把一个芯片当一个来用）

　　（２）字扩张（增加容量）（串联）（增加一个片选）

　　（３）字，位扩展

２，内存和ｃｕｐ的链接

　　（１）地址线的链接

　　（２）数据线的链接

　　（３）控制线读/写的链接

　　（４）片选线的链接

　　（５）合理的选择存储芯片

　　（６）其他　　时序　负载

例题：（１）写出对应的二进制地址码

　　　（２）确定芯片的数量以及类型

　　　（３）分配地址线

　　　（４）确定片选信号

六，存储器的校验

​	１，为什么要对存储器的信息进行校验

　　２，为了能够校验出信息是否正确，如何进行编码

　　３，纠错或检错能力与生么有关

　　４，校验出信息出错后是如何进行纠错的

　　５，除了我们教材将的校验码，你还知道那些容错编码，原理是生么



合法代码集合

　　１，｛０００，００１，，，，１１１｝检０位错，纠０位错

　　２，｛０００，０１１，１０１，１１０｝检１位错，纠０位错

　　３，｛０００，１１１｝检１位错，纠１位错

　　４，｛００００，１１１１｝检２位错，纠１位错

　　５，｛０００００，１１１１１｝检２位错，纠２位错

　　编码的检测能力和纠错能力和什么有关？

　　任意两个合法代码之间二进制位的最小差异数

１，编码的最小距离

　　　任意两组合法代码之间二进制位数的最小差异编码的纠错，检错能力与编码的最小距离

　　L-1-=D+C(D>=C)

　　Ｌ－－编码的最小距离　L=3

　　Ｄ－－检测错误的位数　具有一位纠错能力

　　Ｃ－－纠正错误的位数

２，汗明码的组成

　　汉明码采用奇偶检验

　　汉明码采用分组校验

　　汉明码的分组是一种非划分方式

　　分成３组，每组有１位校验位，工包括４位数据位

　　组成汉明码的三要素

　　哈明码的组成需增添？位检测位

　　检测位的位置

　　检测位的取值

　　　检测为的取值与该位所在的检测”小组“承担的奇偶校验任务有关

例题：求０１０１按偶校验配置汉明码

　　　ｎ＝４

　　　　２^K>=n + k + 1

​                    k=3

汉明码排序如下：

二进制序号：　１　２　３　４　５　６　７

名称　　　　　ｃ１ｃ２０　ｃ４１　０　１

　　　　　　　０　１　　　　０

３，汉明码的纠错过程

０１００１１１

ｐ１＝１亦或３　　５　　７＝０　无错

ｐ２＝２　　３　　６　　７＝１　有错

ｐ４＝４　　５　　６　　７＝１　有错

第六位错了

校验位错了可以不用纠错

七，提高存取速度的措施

采用高速器件

采用层次结构ｃａｃｈｅ—主存

调整主存结构

１，单体多字系统

增加存储器的带宽

２，多体并行系统

（１）高位交叉，顺序编址

（２）地位交叉　各个题轮流编址

低位交叉的特点（ｃｕｐ速度大于内存的，所以可以在一个周期内给多个存储器发送命令）

　　不改变存取周期的前提下，增加存储器的带宽

３，高性能存储芯片

　（１）SDRAM(同步ＤＲＡＭ)

　　　在系统时钟的控制下进行读出和写入

　　　ｃｐｕ无须等待

　（２）ＲＤＲＡＭ

　　　　主要解决存储器带宽问题

　（３）带ＣＡＣＨＥ的DRＡＭ

　　　在ＤＲＡＭ的芯片内集成了一个由ＳＲＡＭ组成的ｃａｃｈｅ，有利用猝发式读取

#### 4.3，高速缓存存储器



#### 4.4，辅助存储器





## 计算机系统硬件系统





## cpu 678





## cu 9-10

