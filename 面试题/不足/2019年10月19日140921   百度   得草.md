2019年10月19日14:09:21  / 百度  / 得草



#### 一.进程和线程的认知。多进程和多线程。

2 、进程在执行过程中拥有独立的内存单元,而多个线程共享进程的内存。(资源分配给进程,同一进程的所有线程
共享该进程的所有资源。同一进程中的多个线程共享代码段(代码和常量),数据段(全局变量和静态变量),扩展
段(堆存储)。但是每个线程拥有自己的栈段,栈段又叫运行时段,用来存放所有局部变量和临时变量。)
3 、进程是资源分配的最小单位,线程是 CPU 调度的最小单位。
4 、系统开销: 由于在创建或撤消进程时,系统都要为之分配或回收资源,如内存空间、 I ∕ o 设备等。因此,操作系
统所付出的开销将显著地大于在创建或撤消线程时的开销。类似地,在进行进程切换时,涉及到整个当前进程 CPU 环
境的保存以及新被调度运行的进程的 CPU 环境的设置。而线程切换只须保存和设置少量寄存器的内容,并不涉及存储
器管理方面的操作。可⻅,进程切换的开销也远大于线程切换的开销。
5 、通信:由于同一进程中的多个线程具有相同的地址空间,致使它们之间的同步和通信的实现,也变得比较容易。
进程间通信 IPC ,线程间可以直接读写进程数据段(如全局变量)来进行通信 —— 需要进程同步和互斥手段的辅助,
以保证数据的一致性。在有的系统中,线程的切换、同步和通信都无须操作系统内核的干预 。
6 、进程编程调试简单可靠性高,但是创建销毁开销大;线程正相反,开销小,切换速度快,但是编程调试相对复
杂。
7 、进程间不会相互影响 ;线程一个线程挂掉将导致整个进程挂掉。
8 、进程适应于多核、多机分布;线程适用于多核。

### 线程同步

信号量
信号量是一种特殊的变量,可用于线程同步。它只取自然数值,并且只支持两种操作:
P(SV): 如果信号量 SV 大于 0 ,将它减一;如果 SV 值为 0 ,则挂起该线程。
V(SV) :如果有其他进程因为等待 SV 而挂起,则唤醒,然后将 SV+1 ;否则直接将 SV+1 。
其系统调用为:
sem_wait ( sem_t *sem ):以原子操作的方式将信号量减 1 ,如果信号量值为 0 ,则 sem_wait 将被阻塞,直到这个
信号量具有非 0 值。
sem_post ( sem_t *sem) :以原子操作将信号量值 +1 。当信号量大于 0 时,其他正在调用 sem_wait 等待信号量的线
程将被唤醒。
互斥量
互斥量又称互斥锁,主要用于线程互斥,不能保证按序访问,可以和条件锁一起实现同步。当进入临界区 时,需要
获得互斥锁并且加锁;当离开临界区时,需要对互斥锁解锁,以唤醒其他等待该互斥锁的线程。其主要的系统调用如
下:
pthread_mutex_init: 初始化互斥锁
pthread_mutex_destroy :销毁互斥锁
pthread_mutex_lock :以原子操作的方式给一个互斥锁加锁,如果目标互斥锁已经被上锁, pthread_mutex_lock 调
用将阻塞,直到该互斥锁的占有者将其解锁。以一个原子操作的方式给一个互斥锁解锁。
pthread_mutex_unlock:
条件变量
条件变量,又称条件锁,用于在线程之间同步共享数据的值。条件变量提供一种线程间通信机制:当某个共享数据达
到某个值时,唤醒等待这个共享数据的一个 / 多个线程。即,当某个共享变量等于某个值时,调用
signal/broadcast 。此时操作共享变量时需要加锁。其主要的系统调用如下:
pthread_cond_init: 初始化条件变量
pthread_cond_destroy :销毁条件变量
pthread_cond_signal :唤醒一个等待目标条件变量的线程。哪个线程被唤醒取决于调度策略和优先级。
pthread_cond_wait :等待目标条件变量。需要一个加锁的互斥锁确保操作的原子性。该函数中在进入 wait 状态前首
先进行解锁,然后接收到信号后会再加锁,保证该线程对共享资源正确访问。



#### 二.stl vector 和 list区别

#### 三.设计一种包含了vector和list优点的数据结构:哈希思想 vector记录list的头

#### 四.vector的扩容函数: 

### 五.内存泄露：智能指针 强引用，弱引用指针

​	强指针：

​	弱指针：

​	环形引用：

​	引申问题：用什么方式解决不确定性的崩溃。

​		1.打日志来查找。

​		2.gdb调试      符号文件。（.pdb文件） 保存当时的信息。

#### 六.ui图形 ： qt

#### 七.设计模式 : 

解决软件开发中一般问题的解决设计思路

软件设计模式（Design pattern），又称设计模式，是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性、程序的重用性。

### 八.http 和 tcp 的三次握手。